# ESPHome compile-test with the full RX path enabled.
esphome:
  name: test-somfy-rx

esp32:
  board: esp32dev

logger:

external_components:
  - source:
      type: local
      path: ../../components

remote_transmitter:
  id: transmitter
  pin: GPIO4
  carrier_duty_percent: 100%

remote_receiver:
  id: receiver
  pin: GPIO5

text_sensor:
  - platform: template
    id: detected
    name: "Detected Remote"

button:
  - platform: template
    id: prog_button
    name: "Prog Button"

cover:
  - platform: somfy_cover
    name: "Test Cover RX"
    open_duration: 40s
    close_duration: 40s
    storage_key: TestKey
    remote_code: 0x123456
    prog_button: prog_button
    remote_transmitter: transmitter
    remote_receiver: receiver
    detected_remote: detected
    allowed_remotes:
      - 0xABCDEF
      - 0x112233
